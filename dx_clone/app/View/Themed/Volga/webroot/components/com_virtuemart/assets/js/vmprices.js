if("undefined"==typeof Virtuemart){var Virtuemart={setproducttype:function(t,e){t.view=null;var a=jQuery,n=t.serialize(),i=t.parents(".productdetails").find(".product-price");return 0==i.length&&(i=a("#productPrice"+e)),n=n.replace("&view=cart",""),i.fadeTo("fast",.75),a.getJSON(window.vmSiteurl+"/test/volga?option=com_virtuemart&nosef=1&view=productdetails&task=recalculate&virtuemart_product_id="+e+"&format=json"+window.vmLang,encodeURIComponent(n),function(t){i.fadeTo("fast",1);for(var e in t){var a=t[e];console.log(e),0!=a?i.find("span.Price"+e).show().html(a):i.find(".Price"+e).html(0).hide()}}),!1},productUpdate:function(t){var e=jQuery;e.ajaxSetup({cache:!1}),e.getJSON(window.vmSiteurl+"index.php?option=com_virtuemart&nosef=1&view=cart&task=viewJS&format=json"+window.vmLang,function(a){a.totalProduct>0&&(t.find(".vm_cart_products").html(""),e.each(a.products,function(a,n){e("#hiddencontainer .container").clone().appendTo(".vmCartModule .vm_cart_products"),e.each(n,function(a,n){e("#hiddencontainer .container ."+a)&&t.find(".vm_cart_products ."+a+":last").html(n)})}),t.find(".total").html(a.billTotal),t.find(".show_cart").html(a.cart_show)),t.find(".total_products").html(a.totalProductTxt)})},sendtocart:function(t){1==Virtuemart.addtocart_popup?Virtuemart.cartEffect(t):(t.append('<input type="hidden" name="task" value="add" />'),t.submit())},cartEffect:function(t){var e=jQuery;e.ajaxSetup({cache:!1});var a=t.serialize();e.getJSON(vmSiteurl+"index.php?option=com_virtuemart&nosef=1&view=cart&task=addJS&format=json"+vmLang,encodeURIComponent(a),function(a){if(1==a.stat){var n=t.find(".pname").val()+" "+vmCartText;e.facebox.settings.closeImage=closeImage,e.facebox.settings.loadingImage=loadingImage,e.facebox.settings.faceboxHtml=faceboxHtml,e.facebox({text:a.msg+"<H4>"+n+"</H4>"},"my-groovy-style")}else if(2==a.stat){var n=(t.find(".quantity-input").val(),t.find(".pname").val());e.facebox.settings.closeImage=closeImage,e.facebox.settings.loadingImage=loadingImage,e.facebox.settings.faceboxHtml=faceboxHtml,e.facebox({text:a.msg+"<H4>"+n+"</H4>"},"my-groovy-style")}else e.facebox.settings.closeImage=closeImage,e.facebox.settings.loadingImage=loadingImage,e.facebox.settings.faceboxHtml=faceboxHtml,e.facebox({text:"<H4>"+vmCartError+"</H4>"+a.msg},"my-groovy-style");e(".vmCartModule")[0]&&Virtuemart.productUpdate(e(".vmCartModule"))}),e.ajaxSetup({cache:!0})},product:function(t){t.each(function(){var t=jQuery(this),e=t.find('input[name="quantity"]'),a=t.find("input.addtocart-button1"),n=t.find(".quantity-plus"),i=t.find(".quantity-minus"),o=t.find("select"),r=t.find("input:radio"),c=t.find('input[name="virtuemart_product_id[]"]').val(),u=t.find(".quantity-input"),d=parseInt(e.val());isNaN(d)&&(d=1),a.click(function(){return Virtuemart.sendtocart(t),!1}),n.click(function(){var e=parseInt(u.val());isNaN(e)||(u.val(e+d),Virtuemart.setproducttype(t,c))}),i.click(function(){var e=parseInt(u.val());u.val(!isNaN(e)&&e>d?e-d:d),Virtuemart.setproducttype(t,c)}),o.change(function(){Virtuemart.setproducttype(t,c)}),r.change(function(){Virtuemart.setproducttype(t,c)}),u.keyup(function(){Virtuemart.setproducttype(t,c)})})}};jQuery.noConflict(),jQuery(document).ready(function(t){Virtuemart.product(t("form.product")),t("form.js-recalculate").each(function(){if(t(this).find(".product-fields").length){var e=t(this).find('input[name="virtuemart_product_id[]"]').val();Virtuemart.setproducttype(t(this),e)}})})}